
<!doctype html><html><head><meta charset="utf-8"><meta name="viewport"content="width=device-width,initial-scale=1"><title>Checkout</title><link rel="stylesheet" href="styles.css"><script defer src="app.js"></script></head><body>
<header class="container"><div class="header-inner"><div class="brand"><img src="logo.jpg"><h1>Primal Store</h1></div><div class="nav"><a href="index.html">Home</a><a href="login.html">Account</a><a class="btn" href="checkout.html">Cart</a></div></div></header><canvas id="goldSnow"></canvas><div class="moving-bg"></div>
<main class="container"><h2>Checkout</h2>
<section id="cartSection" class="card"><h3>Cart</h3><div id="cartTable"></div><button class="btn" onclick="document.getElementById('details').scrollIntoView()">Proceed to Details</button></section>
<section id="details" class="card" style="margin-top:12px"><h3>Details</h3><form id="detailsForm" class="form"><label>Full name<input name="name" required></label><label>Email<input name="email" type="email" required></label><label>Phone<input name="phone" required></label><label>Type<select name="type" id="typeSel" required><option value="">Select</option><option value="game">Game</option><option value="giftcard">Gift Card</option></select></label><div id="gameFields" style="display:none"><label>Game ID<input name="gameId"></label><label>Player Name<input name="playerName"></label></div><div id="giftFields" style="display:none"><label>Recipient Email<input name="recipientEmail" type="email"></label></div><button class="btn" type="submit">Save Details</button></form></section>
<section id="pay" class="card" style="margin-top:12px"><h3>Payment Methods</h3><ul><li>Abyssinia: <b>23014537</b></li><li>Commercial Bank: <b>1000603899688</b></li><li>CBE Birr: <b>0921328839</b></li><li>Awash: <b>01335539457100</b></li><li>Ebirr: <b>0921328839</b></li><li>Perfect Money: <b>$ U45310269 / Â£ E43864299</b></li><li>Binance UID: <b>500411237</b> â€” Kidus Yohannes Dubale</li></ul><p>Total: <b id="payTotal">0</b> ETB</p><button class="btn" onclick="document.getElementById('proof').scrollIntoView()">I Have Paid (Upload Proof)</button></section>
<section id="proof" class="card" style="margin-top:12px"><h3>Upload Proof</h3><form id="proofForm" class="form"><label>Payment Screenshot<input id="proofFile" type="file" accept="image/*" required></label><label>Notes<textarea id="notes"></textarea></label><button class="btn" id="submitProof">Submit Proof</button></form></section>
<section id="done" class="card" style="margin-top:12px;display:none"><h3>Thank you</h3><p>Your order is under review.</p></section>
</main><footer class="footer container">Phone: +251 921 328 839 Â· Email: primalstore.et@gmail.com</footer>
<script>
document.getElementById('typeSel').addEventListener('change', function(e){ document.getElementById('gameFields').style.display = e.target.value==='game' ? 'block' : 'none'; document.getElementById('giftFields').style.display = e.target.value==='giftcard' ? 'block' : 'none'; });
document.getElementById('detailsForm').addEventListener('submit', function(e){ e.preventDefault(); localStorage.setItem('primal_details', JSON.stringify(Object.fromEntries(new FormData(e.target).entries()))); document.getElementById('payTotal').textContent = loadCart().reduce((s,i)=>s+i.price,0); alert('Details saved. Proceed to upload proof.'); });
document.getElementById('submitProof').addEventListener('click', async function(e){ e.preventDefault(); const cart = loadCart(); if(!cart.length){ alert('Cart empty'); return; } const details = JSON.parse(localStorage.getItem('primal_details')||'{}'); const total = cart.reduce((s,i)=>s+i.price,0); const orderId = 'ORD-'+Date.now(); let msg = `ðŸ›’ New Order\nID: ${orderId}\nName: ${details.name||''}\nEmail: ${details.email||''}\nPhone: ${details.phone||''}\nType: ${details.type||''}\n`; if(details.gameId) msg += 'GameID: '+details.gameId+'\n'; if(details.recipientEmail) msg += 'Recipient: '+details.recipientEmail+'\n'; msg += '\nItems:\n'; cart.forEach(it=> msg += `- ${it.title} â€” ${it.sku} x ${it.qty} @ ${it.unit} = ${it.price} ETB\n`); msg += '\nTotal: '+total+' ETB'; await primal.tgSendText(msg); const file = document.getElementById('proofFile').files[0]; if(file) await primal.tgSendFile(file, 'Payment proof for '+orderId); const orders = JSON.parse(localStorage.getItem('primal_orders_v3')||'[]'); orders.push({id:orderId,userEmail:details.email||null,payload:{cart,details,total},status:'Under Review'}); localStorage.setItem('primal_orders_v3', JSON.stringify(orders)); localStorage.removeItem('primal_cart_v4'); document.getElementById('done').style.display='block'; document.getElementById('proofForm').style.display='none'; });
</script>
</body></html>
